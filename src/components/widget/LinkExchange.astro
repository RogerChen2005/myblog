---
import WidgetLayout from "./WidgetLayout.astro";

import {i18n} from "../../i18n/translation";
import I18nKey from "../../i18n/i18nKey";
import {getCategoryUrl} from "../../utils/url-utils";
import ExchangeLink from "../control/ExchangeLink.astro";
import {linkConfig} from "../../config";

const config = linkConfig.links;

const COLLAPSED_HEIGHT = "7.5rem";
const COLLAPSE_THRESHOLD = 5;

const isCollapsed = config.length >= COLLAPSE_THRESHOLD;

interface Props {
    class?: string;
    style?: string;
}
const className = Astro.props.class
const style = Astro.props.style

---

<WidgetLayout name={i18n(I18nKey.linkexchange)} id="linkexchange" isCollapsed={isCollapsed} collapsedHeight={COLLAPSED_HEIGHT}
                class={className} style={style}
>
    {config.map((c) =>
        <ExchangeLink
            url={c.url}
            label=`View all posts in the ${c.name} category`
        >
            {c.name}
        </ExchangeLink>
    )}
</WidgetLayout>